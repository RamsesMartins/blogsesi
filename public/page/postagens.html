<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.2.0/firebase-app.js"
        const firebaseConfig = initializeApp({
            apiKey: "AIzaSyAqDmRh4jLFRNBPk66HXP0jJQMdwWXrJvI",
            authDomain: "sesinovoensinomedio.firebaseapp.com",
            projectId: "sesinovoensinomedio",
            storageBucket: "sesinovoensinomedio.appspot.com",
            messagingSenderId: "476150079392",
            appId: "1:476150079392:web:a4bbe058602ec6ee308ec5",
            measurementId: "G-4ZB3BJ0DHV"
        });
    </script>
    <script src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
    <title id="d">Document</title>
</head>

<body id="body">

    <script type="text/x-handlebars-template" id="postagens">
        {{#each titulos}}
        <h1>{{this.title}}</h1>
        <h5>Criado em: {{this.data}}</h5>
        <h2>{{this.texto}}</h2><br>
        {{/each}}
        {{#each textos}}
        <h2>{{this}}</h2>
        {{/each}}
    </script>

    <script type="module">
        import { getFirestore, doc, getDocs, collection, query, where } from "https://www.gstatic.com/firebasejs/9.2.0/firebase-firestore.js"
        
        const db = getFirestore()
        const q = query(collection(db, "conteÃºdos"), where("title","!=",""));
        var titulos = []
        var textos = []
        var datas = []
        const querySnapshot = await getDocs(q);
        querySnapshot.forEach((doc) => {
           titulos.push(doc.data())
        });
        var nomes = ["carlos", "lucas", "gabriel"]
        const TemplateString = $("#postagens").html()
        const PersonTemplate = Handlebars.compile(TemplateString)
        const html = PersonTemplate({titulos: titulos})
        $("#body").append(html)
    </script>
</body>

</html>